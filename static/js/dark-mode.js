const html=document.documentElement,DARK_MODE="dark-mode",LIGHT_MODE="light";let currentMode=localStorage.getItem("mode");function applyThemeColor(){let e=document.querySelector('meta[name="theme-color"]');e&&(currentMode===DARK_MODE?e.setAttribute("content","#12141c"):e.setAttribute("content","#f0fcfd"))}function applyMode(){let e=document.documentElement;currentMode=localStorage.getItem("mode");let t=window.matchMedia("(prefers-color-scheme: dark)");!currentMode&&t.matches&&(localStorage.setItem("mode",DARK_MODE),currentMode=DARK_MODE),currentMode===DARK_MODE?e.classList.add(DARK_MODE):e.classList.remove(DARK_MODE),"function"==typeof lazyLoadBackground&&lazyLoadBackground(),applyThemeColor()}applyMode(),document.addEventListener("DOMContentLoaded",e=>{let t=document.getElementById("dark-mode-toggle");function o(){let e=new Audio("/static/audio/switch.wav");e.oncanplay=function(){e.play()};let t=localStorage.getItem("mode");localStorage.setItem("mode",t===DARK_MODE?"light":DARK_MODE),applyMode(),document.activeElement.blur()}applyThemeColor(),t.onclick=function(){o()},t.onkeypress=function(e){13===e.keyCode&&o()}});